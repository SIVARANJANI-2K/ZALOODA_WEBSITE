console.log('hi');
const foodItem= [
    {
        id:1,
        name:'Chocolate cake',
        category:'Cakes',
        rating:4.3,
        price:17,
        img:'Chocolate-Cake.jpeg',
        quantity:1
    },
    {
        id:2,
        name:'Blackforest cake',
        category:'Cakes',
        rating:4,
        price:25,
        img:'blackforest-Cake.jpg',
        quantity:1
    },
    {
        id:3,
        name:'Butterscotch cake',
        category:'Cakes',
        rating:4,
        price:20,
        img:'butterscotch.jpeg',
        quantity:1
    },
    {
        id:4,
        name:'Coffee cake',
        category:'Cakes',
        rating:5,
        price:30,
        img:'coffee-Cake.jpg',
        quantity:1
    },
    {
        id:5,
        name:'Rasamalai Cake',
        category:'Cakes',
        rating:4,
        price:27,
        img:'Rasmalai-Cake.jpeg',
        quantity:1
    },
    {
        id:6,
        name:'Ferrero rocher cake',
        category:'Cakes',
        rating:5,
        price:30,
        img:'ferrero-rocher-cake.jpg',
        quantity:1
    },
    {
        id:7,
        name:'vannila cupcake',
        category:'Cupcakes',
        rating:5,
        price:15,
        img:'vanilla-Cupcakes.jpeg.webp',
        quantity:1
    },
    {
        id:8,
        name:'Funfetti cupcake',
        category:'Cupcakes',
        rating:4.3,
        price:17,
        img:'funfetti-cupcakes-44-1200square.jpg',
        quantity:1
    },
    {
        id:9,
        name:'mocha cupcake',
        category:'Cupcakes',
        rating:4.7,
        price:20,
        img:'irish-car-bomb-cupcakes-55-1200square.jpg',
        quantity:1
    },
    {
        id:10,
        name:'margarita cupcake',
        category:'Cupcakes',
        rating:4.7,
        price:25,
        img:'margarita-cupcakes-27-1200square.jpg',
        quantity:1
    },
    {
        id:11,
        name:'apple cupcake',
        category:'Cupcakes',
        rating:4.9,
        price:20,
        img:'apple-cupcakes-36-1200square.jpg',
        quantity:1
    },
    {
        id:12,
        name:'Redvelvet cupcake',
        category:'Cupcakes',
        rating:5,
        price:35,
        img:'red-velvet-cupcakes-61-1200square.jpg',
        quantity:1
    },
   { 
    id:13,
    name:'Banana-Oat Muffins',
    category:'muffins',
    rating:4.5,
    price:33,
    img:'Banana-Oat-Muffins.jpg',
    quantity:1
   },
   { 
    id:14,
    name:'Blueberry-Cream-Muffins',
    category:'muffins',
    rating:4.2,
    price:24,
    img:'Blueberry-Cream-Muffins.jpg',
    quantity:1
   },
   { 
    id:15,
    name:'Coconut-Chocolate-Muffins',
    category:'muffins',
    rating:4.7,
    price:21,
    img:'Coconut-Chocolate-Muffins.jpg',
    quantity:1
   },
   { 
    id:16,
    name:'Mini-Cherry-Muffins',
    category:'muffins',
    rating:4.6,
    price:27,
    img:'Mini-Cherry-Muffins.jpg',
    quantity:1
   },
   { 
    id:17,
    name:'Maple-Chai-Muffins',
    category:'muffins',
    rating:4.34,
    price:27,
    img:'Maple-Chai-Pumpkin-Muffins.jpg',
    quantity:1
   },
   { 
    id:18,
    name:'Lemon-Raspberry-Muffins',
    category:'muffins',
    rating:4.7,
    price:21,
    img:'Lemon-Raspberry-Streusel-Muffins.jpg',
    quantity:1
   },
   { 
    id:19,
    name:'Cookies-Cream-brownies',
    category:'Brownies',
    rating:4.8,
    price:20,
    img:'2-cookies-cream-brownies.jpg',
    quantity:1
   },
   { 
    id:20,
    name:'Caramel-Nutella-Brownies',
    category:'Brownies',
    rating:4.9,
    price:25,
    img:'9-caramel-pretzel-nutella-brownie.jpg',
    quantity:1
   },
   { 
    id:21,
    name:'Blackberry-broma-Brownies',
    category:'Brownies',
    rating:4.6,
    price:26,
    img:'18-blackberry-broma-brownie.jpg',
    quantity:1
   },
   { 
    id:22,
    name:'Skillet Brownies',
    category:'Brownies',
    rating:4.9,
    price:30,
    img:'26-skillet-brownies.jpg',
    quantity:1
   },
   { 
    id:23,
    name:'Birthday-Truffle-Brownies',
    category:'Brownies',
    rating:4.5,
    price:28,
    img:'bday-treffle-brownies.jpg',
    quantity:1
   },
   { 
    id:24,
    name:'Blueberry Creamy Brownies',
    category:'Brownies',
    rating:4.8,
    price:29,
    img:'Blueberry-Cream-Muffins.jpg',
    quantity:1
   },
   { 
    id:25,
    name:'Shortbread Cookies',
    category:'Cookies',
    rating:4.8,
    price:30,
    img:'shortbread-cookies.webp',
    quantity:1
   },
   { 
    id:26,
    name:'Spritz Cookies',
    category:'Cookies',
    rating:4.9,
    price:20,
    img:'spritz-cookies.webp',
    quantity:1
   },
   { 
    id:27,
    name:'Thumbprint Cookies',
    category:'Cookies',
    rating:5,
    price:22,
    img:'thumbprint-cookies.webp',
    quantity:1
   },
   { 
    id:28,
    name:'Whoopie-pies Cookies',
    category:'Cookies',
    rating:4.4,
    price:25,
    img:'whoopie-pies-cookies.webp',
    quantity:1
   },
   { 
    id:29,
    name:'Fortune Cookies',
    category:'Cookies',
    rating:4.6,
    price:27,
    img:'fortune-cookies.webp',
    quantity:1
   },
   { 
    id:30,
    name:' Chocolate Chip Cookies',
    category:'Cookies',
    rating:4.7,
    price:29,
    img:'best-chocolate-chip-cookiees.webp',
    quantity:1
   },
   { 
    id:31,
    name:'Apple Custard',
    category:'Custard',
    rating:4.8,
    price:29,
    img:'apple-custard.jpg',
    quantity:1
   },
   { 
    id:32,
    name:'Coconut Egg Custard',
    category:'Custard',
    rating:4.6,
    price:29,
    img:'coconut-egg-custard.jpg',
    quantity:1
   },
   { 
    id:33,
    name:'Peach Custard',
    category:'Custard',
    rating:4.3,
    price:25,
    img:'peach-custard.webp',
    quantity:1
   },
   { 
    id:34,
    name:'Pear Custard',
    category:'Custard',
    rating:4.9,
    price:24,
    img:'pear-custard.jpg',
    quantity:1
   },
   { 
    id:35,
    name:'Portuguese Custard',
    category:'Custard',
    rating:4.3,
    price:23,
    img:'portuguese-custard.jpg',
    quantity:1
   },
   { 
    id:36,
    name:'Raspberry Custard',
    category:'Custard',
    rating:5,
    price:30,
    img:'raspberry-custard.jpg',
    quantity:1
   },
];


function displayItems(){
    var biryani= document.getElementById('briCake');
    var paneer=  document.getElementById('panner');;
    var chicken=  document.getElementById('chicken');
    var vegetable=  document.getElementById('Vegetable');
    var chinese=  document.getElementById('chinese');
    var southIndian=  document.getElementById('south-indian');

    

    const biryaniData= foodItem.filter((item)=>item.category=='Cakes');
    const chickenData= foodItem.filter((item)=>item.category=='Cupcakes');
    const PaneerData= foodItem.filter((item)=>item.category=='muffins');
    const vegetableData= foodItem.filter((item)=>item.category=='Brownies');
    const chineseData= foodItem.filter((item)=>item.category=='Cookies');
    const southData= foodItem.filter((item)=>item.category=='Custard');
    biryaniData.map(item=>{
        
        var itemCard= document.createElement('div');
        itemCard.setAttribute('id','item-card')

        var cardTop= document.createElement('div');
        cardTop.setAttribute('id','card-top');

        var star= document.createElement('i');
        star.setAttribute('class','fa fa-star');
        star.setAttribute('id','rating');
        star.innerText= ' ' + item.rating;

        var heart= document.createElement('i');
        heart.setAttribute('class','fa fa-heart-o add-to-cart');
        heart.setAttribute('id',item.id)

        cardTop.appendChild(star);
        cardTop.appendChild(heart);


        var img= document.createElement('img');
        img.src=item.img;

        var itemName= document.createElement('p');
        itemName.setAttribute('id','item-name');
        itemName.innerText= item.name;

        var itemPrice= document.createElement('p');
        itemPrice.setAttribute('id','item-price');
        itemPrice.innerText= 'Price : $ ' + item.price;

        itemCard.appendChild(cardTop);
        itemCard.appendChild(img);
        itemCard.appendChild(itemName);
        itemCard.appendChild(itemPrice);

        biryani.appendChild(itemCard);
        
    })
    PaneerData.map(item=>{
        
        var itemCard= document.createElement('div');
        itemCard.setAttribute('id','item-card')

        var cardTop= document.createElement('div');
        cardTop.setAttribute('id','card-top');

        var star= document.createElement('i');
        star.setAttribute('class','fa fa-star');
        star.setAttribute('id','rating');
        star.innerText= ' ' + item.rating;

        var heart= document.createElement('i');
        heart.setAttribute('class','fa fa-heart-o add-to-cart');
        heart.setAttribute('id',item.id)

        cardTop.appendChild(star);
        cardTop.appendChild(heart);


        var img= document.createElement('img');
        img.src=item.img;

        var itemName= document.createElement('p');
        itemName.setAttribute('id','item-name');
        itemName.innerText= item.name;

        var itemPrice= document.createElement('p');
        itemPrice.setAttribute('id','item-price');
        itemPrice.innerText= 'Price : $ ' + item.price;

        itemCard.appendChild(cardTop);
        itemCard.appendChild(img);
        itemCard.appendChild(itemName);
        itemCard.appendChild(itemPrice);

        paneer.appendChild(itemCard);
        
    })
    chickenData.map(item=>{
        
        var itemCard= document.createElement('div');
        itemCard.setAttribute('id','item-card')

        var cardTop= document.createElement('div');
        cardTop.setAttribute('id','card-top');

        var star= document.createElement('i');
        star.setAttribute('class','fa fa-star');
        star.setAttribute('id','rating');
        star.innerText= ' ' + item.rating;

        var heart= document.createElement('i');
        heart.setAttribute('class','fa fa-heart-o add-to-cart');
        heart.setAttribute('id',item.id)

        cardTop.appendChild(star);
        cardTop.appendChild(heart);


        var img= document.createElement('img');
        img.src=item.img;

        var itemName= document.createElement('p');
        itemName.setAttribute('id','item-name');
        itemName.innerText= item.name;

        var itemPrice= document.createElement('p');
        itemPrice.setAttribute('id','item-price');
        itemPrice.innerText= 'Price : $ ' + item.price;

        itemCard.appendChild(cardTop);
        itemCard.appendChild(img);
        itemCard.appendChild(itemName);
        itemCard.appendChild(itemPrice);

        chicken.appendChild(itemCard);
        
    })
    vegetableData.map(item=>{
        
        var itemCard= document.createElement('div');
        itemCard.setAttribute('id','item-card')

        var cardTop= document.createElement('div');
        cardTop.setAttribute('id','card-top');

        var star= document.createElement('i');
        star.setAttribute('class','fa fa-star');
        star.setAttribute('id','rating');
        star.innerText= ' ' + item.rating;

        var heart= document.createElement('i');
        heart.setAttribute('class','fa fa-heart-o add-to-cart');
        heart.setAttribute('id',item.id)

        cardTop.appendChild(star);
        cardTop.appendChild(heart);


        var img= document.createElement('img');
        img.src=item.img;

        var itemName= document.createElement('p');
        itemName.setAttribute('id','item-name');
        itemName.innerText= item.name;

        var itemPrice= document.createElement('p');
        itemPrice.setAttribute('id','item-price');
        itemPrice.innerText= 'Price : $ ' + item.price;

        itemCard.appendChild(cardTop);
        itemCard.appendChild(img);
        itemCard.appendChild(itemName);
        itemCard.appendChild(itemPrice);

        vegetable.appendChild(itemCard);
        
    })
    chineseData.map(item=>{
        
        var itemCard= document.createElement('div');
        itemCard.setAttribute('id','item-card')

        var cardTop= document.createElement('div');
        cardTop.setAttribute('id','card-top');

        var star= document.createElement('i');
        star.setAttribute('class','fa fa-star');
        star.setAttribute('id','rating');
        star.innerText= ' ' + item.rating;

        var heart= document.createElement('i');
        heart.setAttribute('class','fa fa-heart-o add-to-cart');
        heart.setAttribute('id',item.id)

        cardTop.appendChild(star);
        cardTop.appendChild(heart);


        var img= document.createElement('img');
        img.src=item.img;

        var itemName= document.createElement('p');
        itemName.setAttribute('id','item-name');
        itemName.innerText= item.name;

        var itemPrice= document.createElement('p');
        itemPrice.setAttribute('id','item-price');
        itemPrice.innerText= 'Price : $ ' + item.price;

        itemCard.appendChild(cardTop);
        itemCard.appendChild(img);
        itemCard.appendChild(itemName);
        itemCard.appendChild(itemPrice);

        chinese.appendChild(itemCard);
        
    })
    southData.map(item=>{
        
        var itemCard= document.createElement('div');
        itemCard.setAttribute('id','item-card')

        var cardTop= document.createElement('div');
        cardTop.setAttribute('id','card-top');

        var star= document.createElement('i');
        star.setAttribute('class','fa fa-star');
        star.setAttribute('id','rating');
        star.innerText= ' ' + item.rating;

        var heart= document.createElement('i');
        heart.setAttribute('class','fa fa-heart-o add-to-cart');
        heart.setAttribute('id',item.id)

        cardTop.appendChild(star);
        cardTop.appendChild(heart);


        var img= document.createElement('img');
        img.src=item.img;

        var itemName= document.createElement('p');
        itemName.setAttribute('id','item-name');
        itemName.innerText= item.name;

        var itemPrice= document.createElement('p');
        itemPrice.setAttribute('id','item-price');
        itemPrice.innerText= 'Price : $ ' + item.price;

        itemCard.appendChild(cardTop);
        itemCard.appendChild(img);
        itemCard.appendChild(itemName);
        itemCard.appendChild(itemPrice);

        southIndian.appendChild(itemCard);
        
    })
}
 displayItems();
 console.log(foodItem);
 
 let cartbtn=document.getElementById('cart-plus');
 let cartpage=document.querySelector('.cart-toggle');
 let fooditem=document.querySelector('#food-items');
 let category=document.querySelector('#category-list');
 let checkout=document.querySelector('.checkin');
 
 cartbtn.onclick=function(){
     cartpage.classList.remove("cart-toggle");
     fooditem.classList.add("display");
     category.classList.add("display");
     checkout.classList.remove("checkin");
 }
 cartbtn.ondblclick=function(){
     cartpage.classList.add("cart-toggle");
     fooditem.classList.remove("display");
     category.classList.remove("display");
     checkout.classList.add("checkin")
 
 
 }
 document.querySelectorAll('.add-to-cart').forEach(item=>{
    item.addEventListener('click',addToCart)
})

var cartData= [];
function addToCart(){
    
    var itemToAdd= this.parentNode.nextSibling.nextSibling.innerText;
    var itemObj= foodItem.find(element=>element.name==itemToAdd);

    var index= cartData.indexOf(itemObj);
    if(index== -1){
        document.getElementById(itemObj.id).classList.add('toggle-heart');
        cartData= [...cartData,itemObj]; 
    }
    else if(index > -1){
       alert("Added to cart!");
    }
    console.log(cartData);
    document.getElementById('cart-plus').innerText=
    ' ' + cartData.length + ' Items';
   // document.getElementById('m-cart-plus').innerText= ' ' + cartData.length;
    
    cartItems();
    totalAmount();
    
}


function cartItems(){
    var tableBody=  document.getElementById('table-body');
    tableBody.innerHTML= '';

    cartData.map(item=> {
        var tableRow= document.createElement('tr');
        
        var rowData1= document.createElement('td');
        var img= document.createElement('img');
        img.src= item.img;
        rowData1.appendChild(img);
    
        var rowData2= document.createElement('td');
        rowData2.innerText= item.name;
        
        var rowData3= document.createElement('td');
        var btn1= document.createElement('button');
        btn1.setAttribute('class','decrease-item');
        btn1.innerText= '-';
        var span= document.createElement('span');
        span.innerText= item.quantity;
        var btn2= document.createElement('button');
        btn2.setAttribute('class','increase-item');
        btn2.innerText= '+';
        
        rowData3.appendChild(btn1);
        rowData3.appendChild(span);
        rowData3.appendChild(btn2);
    
        var rowData4= document.createElement('td');
        rowData4.innerText= item.price;
    
        tableRow.appendChild(rowData1);
        tableRow.appendChild(rowData2);
        tableRow.appendChild(rowData3);
        tableRow.appendChild(rowData4);
    
        tableBody.appendChild(tableRow);
    })
    document.querySelectorAll('.increase-item').forEach(item=>{
        item.addEventListener('click',incrementItem)
    })

   document.querySelectorAll('.decrease-item').forEach(item=>{
        item.addEventListener('click',decrementItem)
    })
}
function incrementItem(){
    let itemToInc= this.parentNode.previousSibling.innerText;
    console.log(itemToInc)
    var incObj= cartData.find(element=>element.name==itemToInc);
    incObj.quantity+=1;
    
    currPrice= (incObj.price*incObj.quantity - incObj.price*(incObj.quantity-1))/(incObj.quantity-1);
    incObj.price= currPrice*incObj.quantity;
   
    cartItems();
     totalAmount();
}
function decrementItem(){
    var itemToDec=this.parentNode.previousSibling.innerText;
    var decObj=cartData.find(element=>element.name==itemToDec);
    var length;
    decObj.quantity-=1;
    if(decObj.quantity==0){
        cartData=cartData.filter((item)=>item.quantity>0);
        length=cartData.length;
        
        cartItems();
        totalAmount();
        decObj.quantity=1;
        document.getElementById('cart-plus').innerText=' '+ length+ " Items";
        document.getElementById(decObj.id).classList.remove('toggle-heart');
        

    }
    else{
        currPrice=(decObj.price)/(decObj.quantity+1);
        decObj.price=currPrice*decObj.quantity;
        
        cartItems();
        totalAmount();

    }
}
function totalAmount(){
    let total_items=document.getElementById('total-item');
    let price=document.getElementById('total-price');
    let sum=0;
    let items=0;
   

          cartData.map(item=>{
            sum+=item.price;
            items+=item.quantity;
          });

    total_items.innerText="Total items : "+items;
    price.innerText="Total Price : "+sum;
}
